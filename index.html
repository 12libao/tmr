
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>TMR Overview &#8212; TMR 1 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Geometry classes" href="geometry_interface.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="geometry_interface.html" title="Geometry classes"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">TMR 1 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TMR Overview</a><ul>
<li><a class="reference internal" href="#please-cite-us">Please cite us</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-interface-and-code-structure">Python interface and code structure</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#background-and-theory">Background and theory</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and Tables</a></li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="geometry_interface.html"
                        title="next chapter">Geometry classes</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tmr-overview">
<h1>TMR Overview<a class="headerlink" href="#tmr-overview" title="Permalink to this headline">¶</a></h1>
<img alt="_images/tmr_logo.png" src="_images/tmr_logo.png" />
<p>TMR is a mesh generation and refinement tool for creating large-scale quadrilateral and octree meshes in parallel.
TMR creates a coarse quadrilateral or hexahedral mesh and builds a more refined quadtree or octree meshes on each coarse element.
To ensure compatibility, TMR computes the necessary compatibility relationships between adjacent quadrilateral or hexahedral elements of different refinement levels.
The goal is to simplify the high-level mesh generation calls, while enabling the efficient creation of large-scale meshes.</p>
<p>TMR implements an abstract geometry layer that is used to query the underlying geometric and topological information from a CAD representation.
This geometry layer has been implemented using EGADS and OpenCASCADE and in principle could be implemented for other CAD kernels.
A simple B-spline library is also implemented, but is primarily for demonstration/educational purposes.</p>
<p>The coarse hexahedral mesh generation is performed via sweeping or multi-sweeping.
This sweeping capability imposes restrictions on the input geometry.
In particular, the sweep must consist of a source to target faces that are topologically equivalent with surrounding faces that are structured.
Automatic identification of sweepable volumes is implemented, but may not be sufficiently robust.
In these cases, manual specification of the source and target faces, and the swept direction may be required.</p>
<p>Once the coarse hexahedral mesh has been created, refined octree meshes can be generated by preparing the geometry for refinement.
This step creates a model with coarse face-matched hexahedral volumes that are non-degenerate.
The local octree refinement on each mapped volume can then be performed independently.
A global balancing operation is required to impose the condition that any two adjacent elements have a difference of only one level of refinement.
This balancing operation is implemented in parallel.
Once the globally refined element mesh is created, it is necessary to uniquely order all the nodes in the mesh.
This operation allows for higher-order elements with different nodal layouts.</p>
<img alt="_images/block.png" src="_images/block.png" />
<div class="section" id="please-cite-us">
<h2>Please cite us<a class="headerlink" href="#please-cite-us" title="Permalink to this headline">¶</a></h2>
<p>The key contributions and development of TMR are described in the following paper:
Ting Wei Chin, Mark K. Leader, Graeme J. Kennedy, A scalable framework for large-scale 3D multimaterial topology optimization with octree-based mesh adaptation, Advances in Engineering Software, Volume 135, 2019.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>@article{Chin:2019,
         title = {A scalable framework for large-scale 3D multimaterial topology optimization with octree-based mesh adaptation},
         journal = {Advances in Engineering Software},
         volume = {135},
         year = {2019},
         doi = {10.1016/j.advengsoft.2019.05.004},
         author = {Ting Wei Chin and Mark K. Leader and Graeme J. Kennedy}}
</pre></div>
</div>
</div>
</div>
<div class="section" id="python-interface-and-code-structure">
<h1>Python interface and code structure<a class="headerlink" href="#python-interface-and-code-structure" title="Permalink to this headline">¶</a></h1>
<p>There are two interfaces to <code class="xref py py-class docutils literal notranslate"><span class="pre">TMR</span></code>: the C++ interface and the Python-level
interface. <code class="xref py py-class docutils literal notranslate"><span class="pre">TMR</span></code> is implemented in C++, so the interface through C++
contains all publicly accessible class member functions. The Python-level
interface wraps the most important classes and functions, but does not provide
an interface to all lower-level operations.</p>
<p>There are three primary types of classes within <code class="xref py py-class docutils literal notranslate"><span class="pre">TMR</span></code>:</p>
<ol class="arabic simple">
<li><p>Geometry and topology-level classes which interface with the underlying
geometry kernel</p></li>
<li><p>Serial mesh-level classes which are used to create moderate-size
quadrilateral and hexahedral meshes based on the input geometry</p></li>
<li><p>Quadtree and Octree-level classes which are used to create, modify, refine
and extract information from the quad/octrees.</p></li>
</ol>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="geometry_interface.html">Geometry classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="geometry_interface.html#tmrentity">TMREntity</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry_interface.html#loading-a-model">Loading a model</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry_interface.html#geometry-interface">Geometry interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mesh_interface.html">Mesh generation level classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="octree_interface.html">Quad/octree-level classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="octree_interface.html#typical-usage">Typical Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="topoptutils.html">Topology Optimization Utilities</a></li>
</ul>
</div>
</div>
<div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="orthogonal_bracket.html">Orthogonal bracket</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">STEP import and meshing</a></li>
<li class="toctree-l1"><a class="reference internal" href="crm.html">Common Research Model (CRM) wingbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="interp.html">Interpolation between meshes</a></li>
<li class="toctree-l1"><a class="reference internal" href="cantilever_topo.html">Cantilever topology optimization</a></li>
</ul>
</div>
</div>
<div class="section" id="background-and-theory">
<h1>Background and theory<a class="headerlink" href="#background-and-theory" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="algorithms.html#serial-meshing-capabilities">Serial meshing capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="algorithms.html#mapped-quadtree-and-octree-meshing">Mapped Quadtree and octree meshing</a></li>
<li class="toctree-l2"><a class="reference internal" href="algorithms.html#interface-to-cad">Interface to CAD</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="error_estimation.html">Error Estimation</a></li>
</ul>
</div>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>TMR has several dependencies. The current version of TMR requires the following external libraries:</p>
<ul class="simple">
<li><p>MPI</p></li>
<li><p>BLAS/LAPACK</p></li>
<li><p>EGADS/egads4py (for geometry and topology information)</p></li>
<li><p>TACS (for finite-element analysis)</p></li>
<li><p>ParOpt (for topology optimization)</p></li>
<li><p>Blossom V (for perfect matching in the Quad-Blossom algorithm)</p></li>
<li><p>METIS (for partitioning the coarse hexahedral/quadrilateral meshes)</p></li>
<li><p>OpenCASCADE</p></li>
</ul>
<p>In addition, the python interface for TMR requires the following:</p>
<ul class="simple">
<li><p>numpy</p></li>
<li><p>mpi4py</p></li>
<li><p>Cython</p></li>
</ul>
<p>Detailed installation instructions are located here:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing TMR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#steps-to-compile">Steps to compile</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#opencascade">OpenCASCADE</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and Tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="geometry_interface.html" title="Geometry classes"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">TMR 1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Graeme J. Kennedy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>